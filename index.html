<!DOCTYPE html>
<html>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">  
    <meta name="theme-color" content="#11897D" >
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Expires" content="0">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Cache-Control" content="no-cache">
    <title>정은혜 전시회</title>
<body>
    <audio src="abc.mp3" crossorigin="anonymous"></audio>
    <H3 id="playButton" style="display:none;">PLAY</H3> &nbsp;  &nbsp; <H3 id="stopButton" style="display:none;">STOP</H3> &nbsp;  &nbsp; <H3 id="pauseButton" style="display:none;">PAUSE</H3>    

    <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js"integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
    <script>
        let audioCtx = null;
        let track;

        const audioElement = document.querySelector("audio");
        audioElement.addEventListener(
            "ended",
            () => {
                $("#playButton").show();
                $("#stopButton").hide();
                $("#pauseButton").hide();
            },
            false
        );        
        
        $("#playButton").click(function() {                
                if (audioCtx.state === "suspended") {
                    audioCtx.resume();                    
                }

                audioElement.play();
                $("#playButton").hide();
                $("#stopButton").show();
                $("#pauseButton").show();
        });

        $("#stopButton").click(function() {
                audioElement.pause();
                audioElement.currentTime = 0;                
                $("#playButton").show();
                $("#stopButton").hide();
                $("#pauseButton").hide();
        });

        $("#pauseButton").click(function() {
            audioElement.pause();          
            $("#pauseButton").hide();
            $("#playButton").show();
        });

        function init() {            
            audioCtx = new AudioContext();
            $("#playButton").show();       
        }
   
        $(function() {            
            init();
        });
    </script>
</body>
</html>
